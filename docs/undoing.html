<!DOCTYPE html><html class="antialiased [font-feature-settings:&#x27;ss01&#x27;]" lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Undoing Changes - Docs</title><meta name="next-head-count" content="3"/><script>
  let mediaQuery = window.matchMedia('(prefers-color-scheme: dark)')

  function updateTheme(savedTheme) {
    let theme = 'system'
    try {
      if (!savedTheme) {
        savedTheme = window.localStorage.theme
      }
      if (savedTheme === 'dark') {
        theme = 'dark'
        document.documentElement.classList.add('dark')
      } else if (savedTheme === 'light') {
        theme = 'light'
        document.documentElement.classList.remove('dark')
      } else if (mediaQuery.matches) {
        document.documentElement.classList.add('dark')
      } else {
        document.documentElement.classList.remove('dark')
      }
    } catch {
      theme = 'light'
      document.documentElement.classList.remove('dark')
    }
    return theme
  }

  function updateThemeWithoutTransitions(savedTheme) {
    updateTheme(savedTheme)
    document.documentElement.classList.add('[&_*]:!transition-none')
    window.setTimeout(() => {
      document.documentElement.classList.remove('[&_*]:!transition-none')
    }, 0)
  }

  document.documentElement.setAttribute('data-theme', updateTheme())

  new MutationObserver(([{ oldValue }]) => {
    let newValue = document.documentElement.getAttribute('data-theme')
    if (newValue !== oldValue) {
      try {
        window.localStorage.setItem('theme', newValue)
      } catch {}
      updateThemeWithoutTransitions(newValue)
    }
  }).observe(document.documentElement, { attributeFilter: ['data-theme'], attributeOldValue: true })

  mediaQuery.addEventListener('change', updateThemeWithoutTransitions)
  window.addEventListener('storage', updateThemeWithoutTransitions)
</script><link rel="preload" href="/_next/static/css/fcc46d92200ba1ef.css" as="style"/><link rel="stylesheet" href="/_next/static/css/fcc46d92200ba1ef.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-5752944655d749a0.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-35f06ba0f7da9325.js" defer=""></script><script src="/_next/static/chunks/pages/_app-bcc69aa85b709d2c.js" defer=""></script><script src="/_next/static/chunks/605040ef-b1de146bca0cbdd3.js" defer=""></script><script src="/_next/static/chunks/673-6477190af46fabca.js" defer=""></script><script src="/_next/static/chunks/pages/docs/undoing-fb8e9a54861837fc.js" defer=""></script><script src="/_next/static/I_2lQPOWxFjfU1NQp8oHC/_buildManifest.js" defer=""></script><script src="/_next/static/I_2lQPOWxFjfU1NQp8oHC/_ssgManifest.js" defer=""></script><script src="/_next/static/I_2lQPOWxFjfU1NQp8oHC/_middlewareManifest.js" defer=""></script></head><body class="bg-white dark:bg-slate-900"><div id="__next"><header class="sticky top-0 z-50 flex flex-wrap items-center justify-between bg-white px-4 py-5 shadow-md shadow-slate-900/5 transition duration-500 dark:shadow-none sm:px-6 lg:px-8 dark:bg-transparent"><div class="mr-6 lg:hidden"><button type="button" class="relative"><span class="sr-only">Open navigation</span><svg aria-hidden="true" class="h-6 w-6 stroke-slate-500" fill="none" stroke-width="2" stroke-linecap="round"><path d="M4 7h16M4 12h16M4 17h16"></path></svg></button><div style="position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></div></div><div class="relative flex flex-grow basis-0 items-center"><a class="block w-8 overflow-hidden lg:w-auto" href="/"><span class="sr-only">Home page</span><svg width="120" height="35" viewBox="0 0 1100 364" fill="none" xmlns="http://www.w3.org/2000/svg" class="pb-1 -ml-2"><path d="M466.6 357.6C456.2 357.6 446.9 356.2 438.7 353.4C430.7 350.8 423.7 347.3 417.7 342.9C411.7 338.7 406.7 334 402.7 328.8C398.7 323.6 395.8 318.4 394 313.2L431.5 298.2C434.3 306 438.9 312 445.3 316.2C451.7 320.6 458.8 322.8 466.6 322.8C479 322.8 488.8 318.9 496 311.1C503.2 303.5 506.8 292.8 506.8 279V268.8H504.4C499.8 275.2 493.7 280.3 486.1 284.1C478.7 287.7 469.9 289.5 459.7 289.5C450.9 289.5 442.3 287.7 433.9 284.1C425.7 280.5 418.4 275.4 412 268.8C405.6 262 400.4 253.9 396.4 244.5C392.4 235.1 390.4 224.6 390.4 213C390.4 201.4 392.4 190.9 396.4 181.5C400.4 171.9 405.6 163.8 412 157.2C418.4 150.4 425.7 145.2 433.9 141.6C442.3 138 450.9 136.2 459.7 136.2C469.9 136.2 478.7 138.1 486.1 141.9C493.7 145.5 499.8 150.5 504.4 156.9H506.8V141H544.3V277.5C544.3 289.9 542.4 301 538.6 310.8C534.8 320.8 529.5 329.2 522.7 336C515.9 343 507.7 348.3 498.1 351.9C488.7 355.7 478.2 357.6 466.6 357.6ZM468.1 254.1C472.9 254.1 477.6 253.2 482.2 251.4C487 249.6 491.2 247 494.8 243.6C498.4 240 501.3 235.7 503.5 230.7C505.7 225.5 506.8 219.6 506.8 213C506.8 206.4 505.7 200.5 503.5 195.3C501.3 190.1 498.4 185.8 494.8 182.4C491.2 178.8 487 176.1 482.2 174.3C477.6 172.5 472.9 171.6 468.1 171.6C463.3 171.6 458.6 172.5 454 174.3C449.4 176.1 445.3 178.8 441.7 182.4C438.1 186 435.2 190.4 433 195.6C430.8 200.6 429.7 206.4 429.7 213C429.7 219.6 430.8 225.5 433 230.7C435.2 235.7 438.1 240 441.7 243.6C445.3 247 449.4 249.6 454 251.4C458.6 253.2 463.3 254.1 468.1 254.1ZM599.704 119.7C596.304 119.7 593.004 119.1 589.804 117.9C586.804 116.5 584.104 114.7 581.704 112.5C579.504 110.1 577.704 107.4 576.304 104.4C575.104 101.4 574.504 98.1 574.504 94.5C574.504 90.9 575.104 87.6 576.304 84.6C577.704 81.6 579.504 79 581.704 76.8C584.104 74.4 586.804 72.6 589.804 71.4C593.004 70 596.304 69.3 599.704 69.3C606.704 69.3 612.704 71.8 617.704 76.8C622.704 81.6 625.204 87.5 625.204 94.5C625.204 101.5 622.704 107.5 617.704 112.5C612.704 117.3 606.704 119.7 599.704 119.7ZM580.204 288V141H619.504V288H580.204ZM670.176 174.6H644.376V141H670.176V96H709.476V141H745.476V174.6H709.476V231.6C709.476 235 709.776 238.2 710.376 241.2C711.176 244 712.576 246.4 714.576 248.4C717.376 251.6 721.376 253.2 726.576 253.2C729.976 253.2 732.676 252.9 734.676 252.3C736.676 251.5 738.576 250.5 740.376 249.3L751.476 283.8C746.876 286 741.876 287.6 736.476 288.6C731.276 289.8 725.476 290.4 719.076 290.4C711.676 290.4 704.976 289.3 698.976 287.1C693.176 284.7 688.276 281.5 684.276 277.5C674.876 268.5 670.176 255.7 670.176 239.1V174.6ZM798.086 289.8C790.886 289.8 784.686 287.3 779.486 282.3C774.486 277.1 771.986 270.9 771.986 263.7C771.986 256.5 774.486 250.4 779.486 245.4C784.686 240.4 790.886 237.9 798.086 237.9C805.286 237.9 811.386 240.4 816.386 245.4C821.386 250.4 823.886 256.5 823.886 263.7C823.886 270.9 821.386 277.1 816.386 282.3C811.386 287.3 805.286 289.8 798.086 289.8ZM854.952 141H891.852V161.4H894.252C896.052 157.8 898.452 154.5 901.452 151.5C904.452 148.5 907.752 145.9 911.352 143.7C915.152 141.5 919.152 139.8 923.352 138.6C927.752 137.4 932.052 136.8 936.252 136.8C941.452 136.8 945.852 137.3 949.452 138.3C953.252 139.3 956.452 140.6 959.052 142.2L948.552 177.9C946.152 176.7 943.452 175.8 940.452 175.2C937.652 174.4 934.152 174 929.952 174C924.552 174 919.652 175.1 915.252 177.3C910.852 179.3 907.052 182.2 903.852 186C900.852 189.8 898.452 194.3 896.652 199.5C895.052 204.5 894.252 210 894.252 216V288H854.952V141ZM1029.46 292.8C1019.86 292.8 1011.26 291.6 1003.66 289.2C996.261 286.8 989.761 283.7 984.161 279.9C978.761 275.9 974.161 271.4 970.361 266.4C966.561 261.2 963.661 256 961.661 250.8L996.761 235.8C1000.16 243.4 1004.66 249.1 1010.26 252.9C1016.06 256.5 1022.46 258.3 1029.46 258.3C1036.66 258.3 1042.36 257 1046.56 254.4C1050.76 251.8 1052.86 248.7 1052.86 245.1C1052.86 241.1 1051.06 237.9 1047.46 235.5C1044.06 232.9 1038.06 230.6 1029.46 228.6L1008.76 224.1C1004.16 223.1 999.361 221.5 994.361 219.3C989.561 217.1 985.161 214.3 981.161 210.9C977.161 207.5 973.861 203.4 971.261 198.6C968.661 193.8 967.361 188.2 967.361 181.8C967.361 174.6 968.861 168.2 971.861 162.6C975.061 157 979.361 152.3 984.761 148.5C990.161 144.5 996.461 141.5 1003.66 139.5C1011.06 137.3 1018.96 136.2 1027.36 136.2C1041.36 136.2 1053.86 139 1064.86 144.6C1075.86 150 1083.96 158.7 1089.16 170.7L1055.26 184.5C1052.46 178.7 1048.36 174.5 1042.96 171.9C1037.56 169.3 1032.16 168 1026.76 168C1021.16 168 1016.26 169.2 1012.06 171.6C1007.86 173.8 1005.76 176.7 1005.76 180.3C1005.76 183.7 1007.46 186.4 1010.86 188.4C1014.46 190.4 1019.26 192.2 1025.26 193.8L1047.76 199.2C1062.76 202.8 1073.86 208.6 1081.06 216.6C1088.46 224.4 1092.16 233.7 1092.16 244.5C1092.16 250.9 1090.66 257 1087.66 262.8C1084.66 268.6 1080.36 273.8 1074.76 278.4C1069.36 282.8 1062.76 286.3 1054.96 288.9C1047.36 291.5 1038.86 292.8 1029.46 292.8Z" fill="#334155"></path><g clip-path="url(#clip0_7_4)"><path fill-rule="evenodd" clip-rule="evenodd" d="M146 364C184.722 364 221.857 348.618 249.238 321.238C276.618 293.857 292 256.722 292 218C292 179.278 276.618 142.143 249.238 114.762C221.857 87.3821 184.722 72 146 72C107.278 72 70.1427 87.3821 42.7624 114.762C15.3821 142.143 0 179.278 0 218C0 256.722 15.3821 293.857 42.7624 321.238C70.1427 348.618 107.278 364 146 364ZM150.562 158.688C150.564 165.426 148.434 171.992 144.478 177.447C140.521 182.901 134.941 186.965 128.535 189.056C130.267 197.244 134.761 204.587 141.263 209.857C147.765 215.126 155.881 218.001 164.25 218H174.671C176.863 210.648 181.627 204.331 188.094 200.204C194.561 196.076 202.297 194.415 209.888 195.522C217.479 196.63 224.418 200.433 229.435 206.235C234.453 212.038 237.214 219.454 237.214 227.125C237.214 234.796 234.453 242.212 229.435 248.015C224.418 253.817 217.479 257.62 209.888 258.728C202.297 259.835 194.561 258.174 188.094 254.046C181.627 249.919 176.863 243.602 174.671 236.25H164.25C150.779 236.267 137.779 231.301 127.75 222.307V246.689C135.102 248.881 141.419 253.646 145.546 260.112C149.674 266.579 151.335 274.315 150.228 281.906C149.12 289.497 145.317 296.436 139.515 301.454C133.712 306.471 126.296 309.233 118.625 309.233C110.954 309.233 103.538 306.471 97.7355 301.454C91.9325 296.436 88.1296 289.497 87.0221 281.906C85.9146 274.315 87.5764 266.579 91.7038 260.112C95.8312 253.646 102.148 248.881 109.5 246.689V189.311C103.825 187.619 98.7313 184.382 94.7895 179.962C90.8476 175.542 88.2124 170.113 87.1782 164.282C86.144 158.45 86.7517 152.446 88.9332 146.94C91.1148 141.435 94.7843 136.644 99.5318 133.103C104.279 129.562 109.918 127.412 115.817 126.891C121.717 126.37 127.645 127.5 132.939 130.155C138.233 132.809 142.685 136.883 145.797 141.922C148.909 146.96 150.559 152.765 150.562 158.688Z" fill="#38BDF8"></path></g><defs><clipPath id="clip0_7_4"><rect width="292" height="292" fill="white" transform="translate(0 72)"></rect></clipPath></defs></svg></a></div><div class="-my-5 mr-6 sm:mr-8 md:mr-0"><button type="button" class="group flex h-6 w-6 items-center justify-center sm:justify-start md:h-auto md:w-80 md:flex-none md:rounded-lg md:py-2.5 md:pl-4 md:pr-3.5 md:text-sm md:ring-1 md:ring-slate-200 md:hover:ring-slate-300 dark:md:bg-slate-800/75 dark:md:ring-inset dark:md:ring-white/5 dark:md:hover:bg-slate-700/40 dark:md:hover:ring-slate-500 lg:w-96"><svg aria-hidden="true" class="h-5 w-5 flex-none fill-slate-400 group-hover:fill-slate-500 dark:fill-slate-500 md:group-hover:fill-slate-400"><path d="M16.293 17.707a1 1 0 0 0 1.414-1.414l-1.414 1.414ZM9 14a5 5 0 0 1-5-5H2a7 7 0 0 0 7 7v-2ZM4 9a5 5 0 0 1 5-5V2a7 7 0 0 0-7 7h2Zm5-5a5 5 0 0 1 5 5h2a7 7 0 0 0-7-7v2Zm8.707 12.293-3.757-3.757-1.414 1.414 3.757 3.757 1.414-1.414ZM14 9a4.98 4.98 0 0 1-1.464 3.536l1.414 1.414A6.98 6.98 0 0 0 16 9h-2Zm-1.464 3.536A4.98 4.98 0 0 1 9 14v2a6.98 6.98 0 0 0 4.95-2.05l-1.414-1.414Z"></path></svg><span class="sr-only md:not-sr-only md:ml-2 md:text-slate-500 md:dark:text-slate-400">Search docs</span></button></div><div class="relative flex basis-0 justify-end space-x-6 sm:space-x-8 md:flex-grow"><div class="relative z-10"><label class="sr-only" id="headlessui-listbox-label-:R1j36:">Theme</label><button class="flex h-8 w-8 items-center justify-center rounded-lg shadow-md shadow-black/5 ring-1 ring-black/5 dark:bg-slate-700 dark:ring-inset dark:ring-white/5" id="headlessui-listbox-button-:R2j36:" type="button" aria-haspopup="true" aria-expanded="false"><span class="sr-only"></span><svg aria-hidden="true" viewBox="0 0 16 16" class="hidden h-4 w-4 fill-sky-400 [[data-theme=light]_&amp;]:block"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 1a1 1 0 0 1 2 0v1a1 1 0 1 1-2 0V1Zm4 7a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm2.657-5.657a1 1 0 0 0-1.414 0l-.707.707a1 1 0 0 0 1.414 1.414l.707-.707a1 1 0 0 0 0-1.414Zm-1.415 11.313-.707-.707a1 1 0 0 1 1.415-1.415l.707.708a1 1 0 0 1-1.415 1.414ZM16 7.999a1 1 0 0 0-1-1h-1a1 1 0 1 0 0 2h1a1 1 0 0 0 1-1ZM7 14a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0v-1Zm-2.536-2.464a1 1 0 0 0-1.414 0l-.707.707a1 1 0 0 0 1.414 1.414l.707-.707a1 1 0 0 0 0-1.414Zm0-8.486A1 1 0 0 1 3.05 4.464l-.707-.707a1 1 0 0 1 1.414-1.414l.707.707ZM3 8a1 1 0 0 0-1-1H1a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Z"></path></svg><svg aria-hidden="true" viewBox="0 0 16 16" class="hidden h-4 w-4 fill-sky-400 [[data-theme=dark]_&amp;]:block"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.23 3.333C7.757 2.905 7.68 2 7 2a6 6 0 1 0 0 12c.68 0 .758-.905.23-1.332A5.989 5.989 0 0 1 5 8c0-1.885.87-3.568 2.23-4.668ZM12 5a1 1 0 0 1 1 1 1 1 0 0 0 1 1 1 1 0 1 1 0 2 1 1 0 0 0-1 1 1 1 0 1 1-2 0 1 1 0 0 0-1-1 1 1 0 1 1 0-2 1 1 0 0 0 1-1 1 1 0 0 1 1-1Z"></path></svg><svg aria-hidden="true" viewBox="0 0 16 16" class="hidden h-4 w-4 fill-slate-400 [:not(.dark)[data-theme=system]_&amp;]:block"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 1a1 1 0 0 1 2 0v1a1 1 0 1 1-2 0V1Zm4 7a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm2.657-5.657a1 1 0 0 0-1.414 0l-.707.707a1 1 0 0 0 1.414 1.414l.707-.707a1 1 0 0 0 0-1.414Zm-1.415 11.313-.707-.707a1 1 0 0 1 1.415-1.415l.707.708a1 1 0 0 1-1.415 1.414ZM16 7.999a1 1 0 0 0-1-1h-1a1 1 0 1 0 0 2h1a1 1 0 0 0 1-1ZM7 14a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0v-1Zm-2.536-2.464a1 1 0 0 0-1.414 0l-.707.707a1 1 0 0 0 1.414 1.414l.707-.707a1 1 0 0 0 0-1.414Zm0-8.486A1 1 0 0 1 3.05 4.464l-.707-.707a1 1 0 0 1 1.414-1.414l.707.707ZM3 8a1 1 0 0 0-1-1H1a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Z"></path></svg><svg aria-hidden="true" viewBox="0 0 16 16" class="hidden h-4 w-4 fill-slate-400 [.dark[data-theme=system]_&amp;]:block"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.23 3.333C7.757 2.905 7.68 2 7 2a6 6 0 1 0 0 12c.68 0 .758-.905.23-1.332A5.989 5.989 0 0 1 5 8c0-1.885.87-3.568 2.23-4.668ZM12 5a1 1 0 0 1 1 1 1 1 0 0 0 1 1 1 1 0 1 1 0 2 1 1 0 0 0-1 1 1 1 0 1 1-2 0 1 1 0 0 0-1-1 1 1 0 1 1 0-2 1 1 0 0 0 1-1 1 1 0 0 1 1-1Z"></path></svg></button></div><a class="group" href="https://github.com/notjustinshaw/git.rs"><span class="sr-only">GitHub</span><svg aria-hidden="true" viewBox="0 0 16 16" class="h-6 w-6 my-1 fill-slate-400 group-hover:fill-slate-500 dark:group-hover:fill-slate-300"><path d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z"></path></svg></a></div></header><div class="relative mx-auto flex max-w-8xl justify-center sm:px-2 lg:px-8 xl:px-12"><div class="hidden lg:relative lg:block lg:flex-none"><div class="absolute inset-y-0 right-0 w-[50vw] bg-slate-50 dark:hidden"></div><div class="sticky top-[4.5rem] -ml-0.5 h-[calc(100vh-4.5rem)] overflow-y-auto py-16 pl-0.5"><div class="absolute top-16 bottom-0 right-0 hidden h-12 w-px bg-gradient-to-t from-slate-800 dark:block"></div><div class="absolute top-28 bottom-0 right-0 hidden w-px bg-slate-800 dark:block"></div><nav class="text-base lg:text-sm w-64 pr-8 xl:w-72 xl:pr-16"><ul class="space-y-9"><li><h2 class="font-display font-medium text-slate-900 dark:text-white">Introduction</h2><ul class="mt-2 space-y-2 border-l-2 border-slate-100 dark:border-slate-800 lg:mt-4 lg:space-y-4 lg:border-slate-200"><li class="relative"><a class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/">Getting started</a></li><li class="relative"><a class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/docs/version-control">About Version Control</a></li><li class="relative"><a class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/docs/history">History of Git</a></li><li class="relative"><a class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/docs/what-is-git">What is Git?</a></li><li class="relative"><a class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/docs/resources">Resources</a></li></ul></li><li><h2 class="font-display font-medium text-slate-900 dark:text-white">Git Basics</h2><ul class="mt-2 space-y-2 border-l-2 border-slate-100 dark:border-slate-800 lg:mt-4 lg:space-y-4 lg:border-slate-200"><li class="relative"><a class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/docs/create-repo">Create a Repository</a></li><li class="relative"><a class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/docs/record-changes">Record Changes</a></li><li class="relative"><a class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/docs/view-history">View History</a></li><li class="relative"><a class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full font-semibold text-sky-500 before:bg-sky-500" href="/docs/undoing">Undoing</a></li><li class="relative"><a class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/docs/remotes">Remotes</a></li><li class="relative"><a class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/docs/tagging">Tagging</a></li><li class="relative"><a class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/docs/aliases">Aliases</a></li></ul></li><li><h2 class="font-display font-medium text-slate-900 dark:text-white">Git Internals</h2><ul class="mt-2 space-y-2 border-l-2 border-slate-100 dark:border-slate-800 lg:mt-4 lg:space-y-4 lg:border-slate-200"><li class="relative"><a class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/docs/plumbing-porcelain">Plumbing Porcelain</a></li><li class="relative"><a class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/docs/objects">Objects</a></li><li class="relative"><a class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/docs/refs">Refs</a></li><li class="relative"><a class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/docs/packfiles">Packfiles</a></li><li class="relative"><a class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/docs/refspec">Refspec</a></li><li class="relative"><a class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/docs/transfer-protocols">Transfer Protocols</a></li></ul></li></ul></nav></div></div><div class="min-w-0 max-w-2xl flex-auto px-4 py-16 lg:max-w-none lg:pr-0 lg:pl-8 xl:px-16"><article><header class="mb-9 space-y-1"><p class="font-display text-sm font-medium text-sky-500">Git Basics</p><h1 class="font-display text-3xl tracking-tight text-slate-900 dark:text-white">Undoing Changes</h1></header><div class="prose prose-slate max-w-none dark:prose-invert dark:text-slate-400 prose-headings:scroll-mt-28 prose-headings:font-display prose-headings:font-normal lg:prose-headings:scroll-mt-[8.5rem] prose-lead:text-slate-500 dark:prose-lead:text-slate-400 prose-a:font-semibold dark:prose-a:text-sky-400 prose-a:no-underline prose-a:shadow-[inset_0_-2px_0_0_var(--tw-prose-background,#fff),inset_0_calc(-1*(var(--tw-prose-underline-size,4px)+2px))_0_0_var(--tw-prose-underline,theme(colors.sky.300))] hover:prose-a:[--tw-prose-underline-size:6px] dark:[--tw-prose-background:theme(colors.slate.900)] dark:prose-a:shadow-[inset_0_calc(-1*var(--tw-prose-underline-size,2px))_0_0_var(--tw-prose-underline,theme(colors.sky.800))] dark:hover:prose-a:[--tw-prose-underline-size:6px] prose-pre:rounded-xl prose-pre:bg-slate-900 prose-pre:shadow-lg dark:prose-pre:bg-slate-800/60 dark:prose-pre:shadow-none dark:prose-pre:ring-1 dark:prose-pre:ring-slate-300/10 dark:prose-hr:border-slate-800"><p>At any stage, you may want to undo something.<!-- --> <!-- -->Here, we&#x27;ll review a few basic tools for undoing changes that you&#x27;ve made.<!-- --> <!-- -->Be careful, because you can&#x27;t always undo some of these undos.<!-- --> <!-- -->This is one of the few areas in Git where you may lose some work if you do it wrong.</p><p>One of the common undos takes place when you commit too early and possibly forget to add some files, or you mess up your commit message.<!-- --> <!-- -->If you want to redo that commit, make the additional changes you forgot, stage them, and commit again using the <code>--amend</code> option:</p><pre class="prism-code language-undefined"><code><span class="token plain">$ git commit --amend</span>
</code></pre><p>This command takes your staging area and uses it for the commit.<!-- --> <!-- -->If you&#x27;ve made no changes since your last commit (for instance, you run this command immediately after your previous commit), then your snapshot will look exactly the same, and all you&#x27;ll change is your commit message.</p><p>The same commit-message editor fires up, but it already contains the message of your previous commit.<!-- --> <!-- -->You can edit the message the same as always, but it overwrites your previous commit.</p><p>As an example, if you commit and then realize you forgot to stage the changes in a file you wanted to add to this commit, you can do something like this:</p><pre class="prism-code language-undefined"><code><span class="token plain">$ git commit -m &#x27;Initial commit&#x27;</span>
<span class="token plain">$ git add forgotten_file</span>
<span class="token plain">$ git commit --amend</span>
</code></pre><p>You end up with a single commit -- the second commit replaces the results of the first.</p><div class="my-8 flex rounded-3xl p-6 bg-sky-50 dark:bg-slate-800/60 dark:ring-1 dark:ring-slate-300/10"><svg aria-hidden="true" viewBox="0 0 32 32" fill="none" class="h-8 w-8 flex-none [--icon-foreground:theme(colors.slate.900)] [--icon-background:theme(colors.white)]"><defs><radialGradient cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" id=":R14pn6:-gradient" gradientTransform="matrix(0 21 -21 0 20 11)"><stop stop-color="#0EA5E9"></stop><stop stop-color="#22D3EE" offset=".527"></stop><stop stop-color="#818CF8" offset="1"></stop></radialGradient><radialGradient cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" id=":R14pn6:-gradient-dark" gradientTransform="matrix(0 24.5001 -19.2498 0 16 5.5)"><stop stop-color="#0EA5E9"></stop><stop stop-color="#22D3EE" offset=".527"></stop><stop stop-color="#818CF8" offset="1"></stop></radialGradient></defs><g class="dark:hidden"><circle cx="20" cy="20" r="12" fill="url(#:R14pn6:-gradient)"></circle><path fill-rule="evenodd" clip-rule="evenodd" d="M20 24.995c0-1.855 1.094-3.501 2.427-4.792C24.61 18.087 26 15.07 26 12.231 26 7.133 21.523 3 16 3S6 7.133 6 12.23c0 2.84 1.389 5.857 3.573 7.973C10.906 21.494 12 23.14 12 24.995V27a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-2.005Z" class="fill-[var(--icon-background)]" fill-opacity="0.5"></path><path d="M25 12.23c0 2.536-1.254 5.303-3.269 7.255l1.391 1.436c2.354-2.28 3.878-5.547 3.878-8.69h-2ZM16 4c5.047 0 9 3.759 9 8.23h2C27 6.508 21.998 2 16 2v2Zm-9 8.23C7 7.76 10.953 4 16 4V2C10.002 2 5 6.507 5 12.23h2Zm3.269 7.255C8.254 17.533 7 14.766 7 12.23H5c0 3.143 1.523 6.41 3.877 8.69l1.392-1.436ZM13 27v-2.005h-2V27h2Zm1 1a1 1 0 0 1-1-1h-2a3 3 0 0 0 3 3v-2Zm4 0h-4v2h4v-2Zm1-1a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2Zm0-2.005V27h2v-2.005h-2ZM8.877 20.921C10.132 22.136 11 23.538 11 24.995h2c0-2.253-1.32-4.143-2.731-5.51L8.877 20.92Zm12.854-1.436C20.32 20.852 19 22.742 19 24.995h2c0-1.457.869-2.859 2.122-4.074l-1.391-1.436Z" class="fill-[var(--icon-foreground)]"></path><path d="M20 26a1 1 0 1 0 0-2v2Zm-8-2a1 1 0 1 0 0 2v-2Zm2 0h-2v2h2v-2Zm1 1V13.5h-2V25h2Zm-5-11.5v1h2v-1h-2Zm3.5 4.5h5v-2h-5v2Zm8.5-3.5v-1h-2v1h2ZM20 24h-2v2h2v-2Zm-2 0h-4v2h4v-2Zm-1-10.5V25h2V13.5h-2Zm2.5-2.5a2.5 2.5 0 0 0-2.5 2.5h2a.5.5 0 0 1 .5-.5v-2Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v2a.5.5 0 0 1 .5.5h2ZM18.5 18a3.5 3.5 0 0 0 3.5-3.5h-2a1.5 1.5 0 0 1-1.5 1.5v2ZM10 14.5a3.5 3.5 0 0 0 3.5 3.5v-2a1.5 1.5 0 0 1-1.5-1.5h-2Zm2.5-3.5a2.5 2.5 0 0 0-2.5 2.5h2a.5.5 0 0 1 .5-.5v-2Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v2a.5.5 0 0 1 .5.5h2Z" class="fill-[var(--icon-foreground)]"></path></g><g class="hidden dark:inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 2C10.002 2 5 6.507 5 12.23c0 3.144 1.523 6.411 3.877 8.691.75.727 1.363 1.52 1.734 2.353.185.415.574.726 1.028.726H12a1 1 0 0 0 1-1v-4.5a.5.5 0 0 0-.5-.5A3.5 3.5 0 0 1 9 14.5V14a3 3 0 1 1 6 0v9a1 1 0 1 0 2 0v-9a3 3 0 1 1 6 0v.5a3.5 3.5 0 0 1-3.5 3.5.5.5 0 0 0-.5.5V23a1 1 0 0 0 1 1h.36c.455 0 .844-.311 1.03-.726.37-.833.982-1.626 1.732-2.353 2.354-2.28 3.878-5.547 3.878-8.69C27 6.507 21.998 2 16 2Zm5 25a1 1 0 0 0-1-1h-8a1 1 0 0 0-1 1 3 3 0 0 0 3 3h4a3 3 0 0 0 3-3Zm-8-13v1.5a.5.5 0 0 1-.5.5 1.5 1.5 0 0 1-1.5-1.5V14a1 1 0 1 1 2 0Zm6.5 2a.5.5 0 0 1-.5-.5V14a1 1 0 1 1 2 0v.5a1.5 1.5 0 0 1-1.5 1.5Z" fill="url(#:R14pn6:-gradient-dark)"></path></g></svg><div class="ml-4 flex-auto"><p class="m-0 font-display text-xl text-sky-900 dark:text-sky-400">Best Practice</p><div class="prose mt-2.5 text-sky-800 prose-code:text-sky-900 dark:text-slate-300 dark:prose-code:text-slate-300 prose-a:text-sky-900 [--tw-prose-background:theme(colors.sky.50)]"><p>It&#x27;s important to understand that when you&#x27;re amending your last commit, you&#x27;re not so much fixing it as <em>replacing</em> it entirely with a new, improved commit that pushes the old commit out of the way and puts the new commit in its place.<!-- --> <!-- -->Effectively, it&#x27;s as if the previous commit never happened, and it won&#x27;t show up in your repository history.</p><p>The obvious value to amending commits is to make minor improvements to your last commit, without cluttering your repository history with commit messages of the form, &quot;<code>Oops, forgot to add a file</code>&quot; or &quot;<code>Darn, fixing a typo in last commit</code>&quot;.</p></div></div></div><p>Only amend commits that are still local and have not been pushed somewhere.<!-- --> <!-- -->Amending previously pushed commits and force pushing the branch will cause problems for your collaborators.<!-- --> <!-- -->For more on what happens when you do this and how to recover if you&#x27;re on the receiving end read &lt;&lt;_rebase_peril&gt;&gt;.</p><h2 id="unstaging-a-staged-file">Unstaging a Staged File</h2><p>The next two sections demonstrate how to work with your staging area and working directory changes.<!-- --> <!-- -->The nice part is that the command you use to determine the state of those two areas also reminds you how to undo changes to them.<!-- --> <!-- -->For example, let&#x27;s say you&#x27;ve changed two files and want to commit them as two separate changes, but you accidentally type <code>git add *</code> and stage them both.<!-- --> <!-- -->How can you unstage one of the two?<!-- --> <!-- -->The <code>git status</code> command reminds you:</p><pre class="prism-code language-undefined"><code><span class="token plain">$ git add *</span>
<span class="token plain">$ git status</span>
<span class="token plain">On branch master</span>
<span class="token plain">Changes to be committed:</span>
<span class="token plain">  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span>
<span class="token plain">
</span>
<span class="token plain">    renamed:    README.md -&gt; README</span>
<span class="token plain">    modified:   CONTRIBUTING.md</span>
</code></pre><p>Right below the &quot;<code>Changes to be committed</code>&quot; text, it says use <code>git reset HEAD &lt;file&gt;...</code> to unstage.<!-- --> <!-- -->So, let&#x27;s use that advice to unstage the <code>CONTRIBUTING.md</code> file:</p><pre class="prism-code language-undefined"><code><span class="token plain">$ git reset HEAD CONTRIBUTING.md</span>
<span class="token plain">Unstaged changes after reset:</span>
<span class="token plain">M	CONTRIBUTING.md</span>
<span class="token plain">$ git status</span>
<span class="token plain">On branch master</span>
<span class="token plain">Changes to be committed:</span>
<span class="token plain">  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span>
<span class="token plain">
</span>
<span class="token plain">    renamed:    README.md -&gt; README</span>
<span class="token plain">
</span>
<span class="token plain">Changes not staged for commit:</span>
<span class="token plain">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span>
<span class="token plain">  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span>
<span class="token plain">
</span>
<span class="token plain">    modified:   CONTRIBUTING.md</span>
</code></pre><p>The command is a bit strange, but it works.<!-- --> <!-- -->The <code>CONTRIBUTING.md</code> file is modified but once again unstaged.</p><div class="my-8 flex rounded-3xl p-6 bg-amber-50 dark:bg-slate-800/60 dark:ring-1 dark:ring-slate-300/10"><svg aria-hidden="true" viewBox="0 0 32 32" fill="none" class="h-8 w-8 flex-none [--icon-foreground:theme(colors.amber.900)] [--icon-background:theme(colors.amber.100)]"><defs><radialGradient cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" id=":R18pn6:-gradient" gradientTransform="rotate(65.924 1.519 20.92) scale(25.7391)"><stop stop-color="#FDE68A" offset=".08"></stop><stop stop-color="#F59E0B" offset=".837"></stop></radialGradient><radialGradient cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" id=":R18pn6:-gradient-dark" gradientTransform="matrix(0 24.5 -24.5 0 16 5.5)"><stop stop-color="#FDE68A" offset=".08"></stop><stop stop-color="#F59E0B" offset=".837"></stop></radialGradient></defs><g class="dark:hidden"><circle cx="20" cy="20" r="12" fill="url(#:R18pn6:-gradient)"></circle><path d="M3 16c0 7.18 5.82 13 13 13s13-5.82 13-13S23.18 3 16 3 3 8.82 3 16Z" fill-opacity="0.5" class="fill-[var(--icon-background)] stroke-[color:var(--icon-foreground)]" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="m15.408 16.509-1.04-5.543a1.66 1.66 0 1 1 3.263 0l-1.039 5.543a.602.602 0 0 1-1.184 0Z" class="fill-[var(--icon-foreground)] stroke-[color:var(--icon-foreground)]" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M16 23a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" fill-opacity="0.5" stroke="currentColor" class="fill-[var(--icon-background)] stroke-[color:var(--icon-foreground)]" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g><g class="hidden dark:inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M2 16C2 8.268 8.268 2 16 2s14 6.268 14 14-6.268 14-14 14S2 23.732 2 16Zm11.386-4.85a2.66 2.66 0 1 1 5.228 0l-1.039 5.543a1.602 1.602 0 0 1-3.15 0l-1.04-5.543ZM16 20a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z" fill="url(#:R18pn6:-gradient-dark)"></path></g></svg><div class="ml-4 flex-auto"><p class="m-0 font-display text-xl text-amber-900 dark:text-amber-500">Be Careful!</p><div class="prose mt-2.5 text-amber-800 prose-code:text-amber-900 prose-a:text-amber-900 [--tw-prose-underline:theme(colors.amber.400)] dark:[--tw-prose-underline:theme(colors.sky.700)] [--tw-prose-background:theme(colors.amber.50)] dark:text-slate-300 dark:prose-code:text-slate-300"><p>It&#x27;s true that <code>git reset</code> can be a dangerous command, especially if you provide the <code>--hard</code> flag.<!-- --> <!-- -->However, in the scenario described above, the file in your working directory is not touched, so it&#x27;s relatively safe.</p></div></div></div><p>For now this magic invocation is all you need to know about the <code>git reset</code> command.<!-- --> <!-- -->We&#x27;ll go into much more detail about what <code>reset</code> does and how to master it to do really interesting things in &lt;&lt;ch07-git-tools#_git_reset&gt;&gt;.</p><h2 id="unmodifying-a-modified-file">Unmodifying a Modified File</h2><p>What if you realize that you don&#x27;t want to keep your changes to the <code>CONTRIBUTING.md</code> file?<!-- --> <!-- -->How can you easily unmodify it -- revert it back to what it looked like when you last committed (or initially cloned, or however you got it into your working directory)?<!-- --> <!-- -->Luckily, <code>git status</code> tells you how to do that, too.<!-- --> <!-- -->In the last example output, the unstaged area looks like this:</p><pre class="prism-code language-undefined"><code><span class="token plain">Changes not staged for commit:</span>
<span class="token plain">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span>
<span class="token plain">  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span>
<span class="token plain">
</span>
<span class="token plain">    modified:   CONTRIBUTING.md</span>
</code></pre><p>It tells you pretty explicitly how to discard the changes you&#x27;ve made.<!-- --> <!-- -->Let&#x27;s do what it says:</p><pre class="prism-code language-undefined"><code><span class="token plain">$ git checkout -- CONTRIBUTING.md</span>
<span class="token plain">$ git status</span>
<span class="token plain">On branch master</span>
<span class="token plain">Changes to be committed:</span>
<span class="token plain">  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span>
<span class="token plain">
</span>
<span class="token plain">    renamed:    README.md -&gt; README</span>
</code></pre><p>You can see that the changes have been reverted.</p><div class="my-8 flex rounded-3xl p-6 bg-amber-50 dark:bg-slate-800/60 dark:ring-1 dark:ring-slate-300/10"><svg aria-hidden="true" viewBox="0 0 32 32" fill="none" class="h-8 w-8 flex-none [--icon-foreground:theme(colors.amber.900)] [--icon-background:theme(colors.amber.100)]"><defs><radialGradient cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" id=":R1cpn6:-gradient" gradientTransform="rotate(65.924 1.519 20.92) scale(25.7391)"><stop stop-color="#FDE68A" offset=".08"></stop><stop stop-color="#F59E0B" offset=".837"></stop></radialGradient><radialGradient cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" id=":R1cpn6:-gradient-dark" gradientTransform="matrix(0 24.5 -24.5 0 16 5.5)"><stop stop-color="#FDE68A" offset=".08"></stop><stop stop-color="#F59E0B" offset=".837"></stop></radialGradient></defs><g class="dark:hidden"><circle cx="20" cy="20" r="12" fill="url(#:R1cpn6:-gradient)"></circle><path d="M3 16c0 7.18 5.82 13 13 13s13-5.82 13-13S23.18 3 16 3 3 8.82 3 16Z" fill-opacity="0.5" class="fill-[var(--icon-background)] stroke-[color:var(--icon-foreground)]" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="m15.408 16.509-1.04-5.543a1.66 1.66 0 1 1 3.263 0l-1.039 5.543a.602.602 0 0 1-1.184 0Z" class="fill-[var(--icon-foreground)] stroke-[color:var(--icon-foreground)]" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M16 23a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" fill-opacity="0.5" stroke="currentColor" class="fill-[var(--icon-background)] stroke-[color:var(--icon-foreground)]" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g><g class="hidden dark:inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M2 16C2 8.268 8.268 2 16 2s14 6.268 14 14-6.268 14-14 14S2 23.732 2 16Zm11.386-4.85a2.66 2.66 0 1 1 5.228 0l-1.039 5.543a1.602 1.602 0 0 1-3.15 0l-1.04-5.543ZM16 20a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z" fill="url(#:R1cpn6:-gradient-dark)"></path></g></svg><div class="ml-4 flex-auto"><p class="m-0 font-display text-xl text-amber-900 dark:text-amber-500">Be Careful!</p><div class="prose mt-2.5 text-amber-800 prose-code:text-amber-900 prose-a:text-amber-900 [--tw-prose-underline:theme(colors.amber.400)] dark:[--tw-prose-underline:theme(colors.sky.700)] [--tw-prose-background:theme(colors.amber.50)] dark:text-slate-300 dark:prose-code:text-slate-300"><p>It&#x27;s important to understand that <code>git checkout \-- &lt;file&gt;</code> is a dangerous command.<!-- --> <!-- -->Any local changes you made to that file are gone -- Git just replaced that file with the last staged or committed version.<!-- --> <!-- -->Don&#x27;t ever use this command unless you absolutely know that you don&#x27;t want those unsaved local changes.</p></div></div></div><p>If you would like to keep the changes you&#x27;ve made to that file but still need to get it out of the way for now, we&#x27;ll go over stashing and branching in &lt;&lt;ch03-git-branching#ch03-git-branching&gt;&gt;; these are generally better ways to go.</p><p>Remember, anything that is <em>committed</em> in Git can almost always be recovered.<!-- --> <!-- -->Even commits that were on branches that were deleted or commits that were overwritten with an <code>--amend</code> commit can be recovered (see &lt;&lt;ch10-git-internals#_data_recovery&gt;&gt; for data recovery).<!-- --> <!-- -->However, anything you lose that was never committed is likely never to be seen again.</p><h2 id="undoing-things-with-git-restore">Undoing things with git restore</h2><p>Git version 2.23.0 introduced a new command: <code>git restore</code>.<!-- --> <!-- -->It&#x27;s basically an alternative to <code>git reset</code> which we just covered.<!-- --> <!-- -->From Git version 2.23.0 onwards, Git will use <code>git restore</code> instead of <code>git reset</code> for many undo operations.</p><p>Let&#x27;s retrace our steps, and undo things with <code>git restore</code> instead of <code>git reset</code>.</p><h3 id="restoring-a-staged-file">Restoring a Staged File</h3><p>The next two sections demonstrate how to work with your staging area and working directory changes with <code>git restore</code>.<!-- --> <!-- -->The nice part is that the command you use to determine the state of those two areas also reminds you how to undo changes to them.<!-- --> <!-- -->For example, let&#x27;s say you&#x27;ve changed two files and want to commit them as two separate changes, but you accidentally type <code>git add *</code> and stage them both.<!-- --> <!-- -->How can you unstage one of the two?<!-- --> <!-- -->The <code>git status</code> command reminds you:</p><pre class="prism-code language-undefined"><code><span class="token plain">$ git add *</span>
<span class="token plain">$ git status</span>
<span class="token plain">On branch master</span>
<span class="token plain">Changes to be committed:</span>
<span class="token plain">  (use &quot;git restore --staged &lt;file&gt;...&quot; to unstage)</span>
<span class="token plain">	modified:   CONTRIBUTING.md</span>
<span class="token plain">	renamed:    README.md -&gt; README</span>
</code></pre><p>Right below the &quot;<code>Changes to be committed</code>&quot; text, it says use <code>git restore --staged &lt;file&gt;...</code> to unstage.<!-- --> <!-- -->So, let&#x27;s use that advice to unstage the <code>CONTRIBUTING.md</code> file:</p><pre class="prism-code language-undefined"><code><span class="token plain">$ git restore --staged CONTRIBUTING.md</span>
<span class="token plain">$ git status</span>
<span class="token plain">On branch master</span>
<span class="token plain">Changes to be committed:</span>
<span class="token plain">  (use &quot;git restore --staged &lt;file&gt;...&quot; to unstage)</span>
<span class="token plain">	renamed:    README.md -&gt; README</span>
<span class="token plain">
</span>
<span class="token plain">Changes not staged for commit:</span>
<span class="token plain">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span>
<span class="token plain">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span>
<span class="token plain">	modified:   CONTRIBUTING.md</span>
</code></pre><p>The <code>CONTRIBUTING.md</code> file is modified but once again unstaged.</p><h3 id="restoring-a-modified-file">Restoring a Modified File</h3><p>What if you realize that you don&#x27;t want to keep your changes to the <code>CONTRIBUTING.md</code> file?<!-- --> <!-- -->How can you easily unmodify it -- revert it back to what it looked like when you last committed (or initially cloned, or however you got it into your working directory)?<!-- --> <!-- -->Luckily, <code>git status</code> tells you how to do that, too.<!-- --> <!-- -->In the last example output, the unstaged area looks like this:</p><pre class="prism-code language-undefined"><code><span class="token plain">Changes not staged for commit:</span>
<span class="token plain">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span>
<span class="token plain">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span>
<span class="token plain">	modified:   CONTRIBUTING.md</span>
</code></pre><p>It tells you pretty explicitly how to discard the changes you&#x27;ve made.<!-- --> <!-- -->Let&#x27;s do what it says:</p><pre class="prism-code language-undefined"><code><span class="token plain">$ git restore CONTRIBUTING.md</span>
<span class="token plain">$ git status</span>
<span class="token plain">On branch master</span>
<span class="token plain">Changes to be committed:</span>
<span class="token plain">  (use &quot;git restore --staged &lt;file&gt;...&quot; to unstage)</span>
<span class="token plain">	renamed:    README.md -&gt; README</span>
</code></pre><div class="my-8 flex rounded-3xl p-6 bg-amber-50 dark:bg-slate-800/60 dark:ring-1 dark:ring-slate-300/10"><svg aria-hidden="true" viewBox="0 0 32 32" fill="none" class="h-8 w-8 flex-none [--icon-foreground:theme(colors.amber.900)] [--icon-background:theme(colors.amber.100)]"><defs><radialGradient cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" id=":R1l9n6:-gradient" gradientTransform="rotate(65.924 1.519 20.92) scale(25.7391)"><stop stop-color="#FDE68A" offset=".08"></stop><stop stop-color="#F59E0B" offset=".837"></stop></radialGradient><radialGradient cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" id=":R1l9n6:-gradient-dark" gradientTransform="matrix(0 24.5 -24.5 0 16 5.5)"><stop stop-color="#FDE68A" offset=".08"></stop><stop stop-color="#F59E0B" offset=".837"></stop></radialGradient></defs><g class="dark:hidden"><circle cx="20" cy="20" r="12" fill="url(#:R1l9n6:-gradient)"></circle><path d="M3 16c0 7.18 5.82 13 13 13s13-5.82 13-13S23.18 3 16 3 3 8.82 3 16Z" fill-opacity="0.5" class="fill-[var(--icon-background)] stroke-[color:var(--icon-foreground)]" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="m15.408 16.509-1.04-5.543a1.66 1.66 0 1 1 3.263 0l-1.039 5.543a.602.602 0 0 1-1.184 0Z" class="fill-[var(--icon-foreground)] stroke-[color:var(--icon-foreground)]" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M16 23a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" fill-opacity="0.5" stroke="currentColor" class="fill-[var(--icon-background)] stroke-[color:var(--icon-foreground)]" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g><g class="hidden dark:inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M2 16C2 8.268 8.268 2 16 2s14 6.268 14 14-6.268 14-14 14S2 23.732 2 16Zm11.386-4.85a2.66 2.66 0 1 1 5.228 0l-1.039 5.543a1.602 1.602 0 0 1-3.15 0l-1.04-5.543ZM16 20a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z" fill="url(#:R1l9n6:-gradient-dark)"></path></g></svg><div class="ml-4 flex-auto"><p class="m-0 font-display text-xl text-amber-900 dark:text-amber-500">Be Careful!</p><div class="prose mt-2.5 text-amber-800 prose-code:text-amber-900 prose-a:text-amber-900 [--tw-prose-underline:theme(colors.amber.400)] dark:[--tw-prose-underline:theme(colors.sky.700)] [--tw-prose-background:theme(colors.amber.50)] dark:text-slate-300 dark:prose-code:text-slate-300"><p>It&#x27;s important to understand that <code>git restore &lt;file&gt;</code> is a dangerous command.<!-- --> <!-- -->Any local changes you made to that file are gone -- Git just replaced that file with the last staged or committed version.<!-- --> <!-- -->Don&#x27;t ever use this command unless you absolutely know that you don&#x27;t want those unsaved local changes.</p></div></div></div></div></article><dl class="mt-12 flex border-t border-slate-200 pt-6 dark:border-slate-800"><div><dt class="font-display text-sm font-medium text-slate-900 dark:text-white">Previous</dt><dd class="mt-1"><a class="text-base font-semibold text-slate-500 hover:text-slate-600 dark:text-slate-400 dark:hover:text-slate-300" href="/docs/view-history">← <!-- -->View History</a></dd></div><div class="ml-auto text-right"><dt class="font-display text-sm font-medium text-slate-900 dark:text-white">Next</dt><dd class="mt-1"><a class="text-base font-semibold text-slate-500 hover:text-slate-600 dark:text-slate-400 dark:hover:text-slate-300" href="/docs/remotes">Remotes<!-- --> →</a></dd></div></dl></div><div class="hidden xl:sticky xl:top-[4.5rem] xl:-mr-6 xl:block xl:h-[calc(100vh-4.5rem)] xl:flex-none xl:overflow-y-auto xl:py-16 xl:pr-6"><nav aria-labelledby="on-this-page-title" class="w-56"><h2 id="on-this-page-title" class="font-display text-sm font-medium text-slate-900 dark:text-white">On this page</h2><ul class="mt-4 space-y-3 text-sm"><li><h3><a class="text-sky-500" href="/docs/undoing#unstaging-a-staged-file">Unstaging a Staged File</a></h3></li><li><h3><a class="font-normal text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300" href="/docs/undoing#unmodifying-a-modified-file">Unmodifying a Modified File</a></h3></li><li><h3><a class="font-normal text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300" href="/docs/undoing#undoing-things-with-git-restore">Undoing things with git restore</a></h3><ul class="mt-2 space-y-3 pl-5 text-slate-500 dark:text-slate-400"><li><a class="hover:text-slate-600 dark:hover:text-slate-300" href="/docs/undoing#restoring-a-staged-file">Restoring a Staged File</a></li><li><a class="hover:text-slate-600 dark:hover:text-slate-300" href="/docs/undoing#restoring-a-modified-file">Restoring a Modified File</a></li></ul></li></ul></nav></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"markdoc":{"content":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["At any stage, you may want to undo something."," ","Here, we'll review a few basic tools for undoing changes that you've made."," ","Be careful, because you can't always undo some of these undos."," ","This is one of the few areas in Git where you may lose some work if you do it wrong."]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["One of the common undos takes place when you commit too early and possibly forget to add some files, or you mess up your commit message."," ","If you want to redo that commit, make the additional changes you forgot, stage them, and commit again using the ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["--amend"]}," option:"]},{"$$mdtype":"Tag","name":"Fence","attributes":{},"children":["$ git commit --amend\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["This command takes your staging area and uses it for the commit."," ","If you've made no changes since your last commit (for instance, you run this command immediately after your previous commit), then your snapshot will look exactly the same, and all you'll change is your commit message."]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["The same commit-message editor fires up, but it already contains the message of your previous commit."," ","You can edit the message the same as always, but it overwrites your previous commit."]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["As an example, if you commit and then realize you forgot to stage the changes in a file you wanted to add to this commit, you can do something like this:"]},{"$$mdtype":"Tag","name":"Fence","attributes":{},"children":["$ git commit -m 'Initial commit'\n$ git add forgotten_file\n$ git commit --amend\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["You end up with a single commit -- the second commit replaces the results of the first."]},{"$$mdtype":"Tag","name":"Callout","attributes":{"title":"Best Practice","type":"note"},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["It's important to understand that when you're amending your last commit, you're not so much fixing it as ",{"$$mdtype":"Tag","name":"em","attributes":{},"children":["replacing"]}," it entirely with a new, improved commit that pushes the old commit out of the way and puts the new commit in its place."," ","Effectively, it's as if the previous commit never happened, and it won't show up in your repository history."]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["The obvious value to amending commits is to make minor improvements to your last commit, without cluttering your repository history with commit messages of the form, \"",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["Oops, forgot to add a file"]},"\" or \"",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["Darn, fixing a typo in last commit"]},"\"."]}]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Only amend commits that are still local and have not been pushed somewhere."," ","Amending previously pushed commits and force pushing the branch will cause problems for your collaborators."," ","For more on what happens when you do this and how to recover if you're on the receiving end read \u003c\u003c_rebase_peril\u003e\u003e."]},{"$$mdtype":"Tag","name":"h2","attributes":{"id":"unstaging-a-staged-file"},"children":["Unstaging a Staged File"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["The next two sections demonstrate how to work with your staging area and working directory changes."," ","The nice part is that the command you use to determine the state of those two areas also reminds you how to undo changes to them."," ","For example, let's say you've changed two files and want to commit them as two separate changes, but you accidentally type ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["git add *"]}," and stage them both."," ","How can you unstage one of the two?"," ","The ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["git status"]}," command reminds you:"]},{"$$mdtype":"Tag","name":"Fence","attributes":{},"children":["$ git add *\n$ git status\nOn branch master\nChanges to be committed:\n  (use \"git reset HEAD \u003cfile\u003e...\" to unstage)\n\n    renamed:    README.md -\u003e README\n    modified:   CONTRIBUTING.md\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Right below the \"",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["Changes to be committed"]},"\" text, it says use ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["git reset HEAD \u003cfile\u003e..."]}," to unstage."," ","So, let's use that advice to unstage the ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["CONTRIBUTING.md"]}," file:"]},{"$$mdtype":"Tag","name":"Fence","attributes":{},"children":["$ git reset HEAD CONTRIBUTING.md\nUnstaged changes after reset:\nM\tCONTRIBUTING.md\n$ git status\nOn branch master\nChanges to be committed:\n  (use \"git reset HEAD \u003cfile\u003e...\" to unstage)\n\n    renamed:    README.md -\u003e README\n\nChanges not staged for commit:\n  (use \"git add \u003cfile\u003e...\" to update what will be committed)\n  (use \"git checkout -- \u003cfile\u003e...\" to discard changes in working directory)\n\n    modified:   CONTRIBUTING.md\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["The command is a bit strange, but it works."," ","The ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["CONTRIBUTING.md"]}," file is modified but once again unstaged."]},{"$$mdtype":"Tag","name":"Callout","attributes":{"title":"Be Careful!","type":"warning"},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["It's true that ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["git reset"]}," can be a dangerous command, especially if you provide the ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["--hard"]}," flag."," ","However, in the scenario described above, the file in your working directory is not touched, so it's relatively safe."]}]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["For now this magic invocation is all you need to know about the ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["git reset"]}," command."," ","We'll go into much more detail about what ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["reset"]}," does and how to master it to do really interesting things in \u003c\u003cch07-git-tools#_git_reset\u003e\u003e."]},{"$$mdtype":"Tag","name":"h2","attributes":{"id":"unmodifying-a-modified-file"},"children":["Unmodifying a Modified File"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["What if you realize that you don't want to keep your changes to the ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["CONTRIBUTING.md"]}," file?"," ","How can you easily unmodify it -- revert it back to what it looked like when you last committed (or initially cloned, or however you got it into your working directory)?"," ","Luckily, ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["git status"]}," tells you how to do that, too."," ","In the last example output, the unstaged area looks like this:"]},{"$$mdtype":"Tag","name":"Fence","attributes":{},"children":["Changes not staged for commit:\n  (use \"git add \u003cfile\u003e...\" to update what will be committed)\n  (use \"git checkout -- \u003cfile\u003e...\" to discard changes in working directory)\n\n    modified:   CONTRIBUTING.md\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["It tells you pretty explicitly how to discard the changes you've made."," ","Let's do what it says:"]},{"$$mdtype":"Tag","name":"Fence","attributes":{},"children":["$ git checkout -- CONTRIBUTING.md\n$ git status\nOn branch master\nChanges to be committed:\n  (use \"git reset HEAD \u003cfile\u003e...\" to unstage)\n\n    renamed:    README.md -\u003e README\n\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["You can see that the changes have been reverted."]},{"$$mdtype":"Tag","name":"Callout","attributes":{"title":"Be Careful!","type":"warning"},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["It's important to understand that ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["git checkout \\-- \u003cfile\u003e"]}," is a dangerous command."," ","Any local changes you made to that file are gone -- Git just replaced that file with the last staged or committed version."," ","Don't ever use this command unless you absolutely know that you don't want those unsaved local changes."]}]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["If you would like to keep the changes you've made to that file but still need to get it out of the way for now, we'll go over stashing and branching in \u003c\u003cch03-git-branching#ch03-git-branching\u003e\u003e; these are generally better ways to go."]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Remember, anything that is ",{"$$mdtype":"Tag","name":"em","attributes":{},"children":["committed"]}," in Git can almost always be recovered."," ","Even commits that were on branches that were deleted or commits that were overwritten with an ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["--amend"]}," commit can be recovered (see \u003c\u003cch10-git-internals#_data_recovery\u003e\u003e for data recovery)."," ","However, anything you lose that was never committed is likely never to be seen again."]},{"$$mdtype":"Tag","name":"h2","attributes":{"id":"undoing-things-with-git-restore"},"children":["Undoing things with git restore"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Git version 2.23.0 introduced a new command: ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["git restore"]},"."," ","It's basically an alternative to ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["git reset"]}," which we just covered."," ","From Git version 2.23.0 onwards, Git will use ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["git restore"]}," instead of ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["git reset"]}," for many undo operations."]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Let's retrace our steps, and undo things with ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["git restore"]}," instead of ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["git reset"]},"."]},{"$$mdtype":"Tag","name":"h3","attributes":{"id":"restoring-a-staged-file"},"children":["Restoring a Staged File"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["The next two sections demonstrate how to work with your staging area and working directory changes with ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["git restore"]},"."," ","The nice part is that the command you use to determine the state of those two areas also reminds you how to undo changes to them."," ","For example, let's say you've changed two files and want to commit them as two separate changes, but you accidentally type ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["git add *"]}," and stage them both."," ","How can you unstage one of the two?"," ","The ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["git status"]}," command reminds you:"]},{"$$mdtype":"Tag","name":"Fence","attributes":{},"children":["$ git add *\n$ git status\nOn branch master\nChanges to be committed:\n  (use \"git restore --staged \u003cfile\u003e...\" to unstage)\n\tmodified:   CONTRIBUTING.md\n\trenamed:    README.md -\u003e README\n\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["Right below the \"",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["Changes to be committed"]},"\" text, it says use ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["git restore --staged \u003cfile\u003e..."]}," to unstage."," ","So, let's use that advice to unstage the ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["CONTRIBUTING.md"]}," file:"]},{"$$mdtype":"Tag","name":"Fence","attributes":{},"children":["$ git restore --staged CONTRIBUTING.md\n$ git status\nOn branch master\nChanges to be committed:\n  (use \"git restore --staged \u003cfile\u003e...\" to unstage)\n\trenamed:    README.md -\u003e README\n\nChanges not staged for commit:\n  (use \"git add \u003cfile\u003e...\" to update what will be committed)\n  (use \"git restore \u003cfile\u003e...\" to discard changes in working directory)\n\tmodified:   CONTRIBUTING.md\n\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["The ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["CONTRIBUTING.md"]}," file is modified but once again unstaged."]},{"$$mdtype":"Tag","name":"h3","attributes":{"id":"restoring-a-modified-file"},"children":["Restoring a Modified File"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["What if you realize that you don't want to keep your changes to the ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["CONTRIBUTING.md"]}," file?"," ","How can you easily unmodify it -- revert it back to what it looked like when you last committed (or initially cloned, or however you got it into your working directory)?"," ","Luckily, ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["git status"]}," tells you how to do that, too."," ","In the last example output, the unstaged area looks like this:"]},{"$$mdtype":"Tag","name":"Fence","attributes":{},"children":["Changes not staged for commit:\n  (use \"git add \u003cfile\u003e...\" to update what will be committed)\n  (use \"git restore \u003cfile\u003e...\" to discard changes in working directory)\n\tmodified:   CONTRIBUTING.md\n\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["It tells you pretty explicitly how to discard the changes you've made."," ","Let's do what it says:"]},{"$$mdtype":"Tag","name":"Fence","attributes":{},"children":["$ git restore CONTRIBUTING.md\n$ git status\nOn branch master\nChanges to be committed:\n  (use \"git restore --staged \u003cfile\u003e...\" to unstage)\n\trenamed:    README.md -\u003e README\n\n"]},{"$$mdtype":"Tag","name":"Callout","attributes":{"title":"Be Careful!","type":"warning"},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["It's important to understand that ",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["git restore \u003cfile\u003e"]}," is a dangerous command."," ","Any local changes you made to that file are gone -- Git just replaced that file with the last staged or committed version."," ","Don't ever use this command unless you absolutely know that you don't want those unsaved local changes."]}]}],"frontmatter":{"title":"Undoing Changes","description":null},"file":{"path":"/docs/undoing.md"}}},"__N_SSG":true},"page":"/docs/undoing","query":{},"buildId":"I_2lQPOWxFjfU1NQp8oHC","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>